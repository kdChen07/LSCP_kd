总结

1.已经得到的383个没有疫苗站服务的MSOA与2738个潜在选址的疫苗站进行检验，绘制出依旧缺少疫苗站的MSOA地图，有3个MSOA依然不能从这2738个潜在疫苗站中得到疫苗服务。

<img src="C:\Users\chenkd\AppData\Roaming\Typora\typora-user-images\image-20210812163627133.png" alt="image-20210812163627133" style="zoom: 67%;" />

2.下一步工作思路，将这3个MSOA剔除，对剩下的380个MSOA与2738个潜在选址疫苗站建立LSCP模型求解最优选址点。

3.下载spopt安装包，试运行spopt教程facloc-real-world.ipynb。

4.教程代码中，在运行过程中出现错误

```python
from spopt.locate.coverage import LSCP

lscp = LSCP.from_cost_matrix(cost_matrix, service_dist)
lscp = lscp.solve(pulp.GLPK(msg=False))

lscp.facility_client_array()
plot_results(lscp, facility_points_gdf, demand_points_gdf, facility_points_gdf.shape[0], "LSCP")
```

错误1：未找到locate.coverage模块。

解决方法1：找到了包含locate.coverage文件的spopt文件，重新安装后可正常运行。

错误2：PulpSolverError: PuLP: cannot execute glpsol。

解决方法2：输入代码：

```
!sudo apt-get install python-glpk
!sudo apt-get install glpk-utils
```

解决两个错误后，复现了教程代码的结果。

![image-20210812173133064](C:\Users\chenkd\AppData\Roaming\Typora\typora-user-images\image-20210812173133064.png)

5.将380个MSOA、2736个潜在POI的选址、两者之间的距离distance和边界数据England boundary数据导入，以380个MSOA、2736个POI与2736个distance建立矩阵，带入代码中，调整参数尝试运行。

6.尝试运行后存在的问题：

问题：参数调整存在问题，使索引器超出范围。

IndexError: indices are out-of-bounds

IndexError: positional indexers are out-of-bounds

